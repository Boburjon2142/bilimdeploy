{% extends "base.html" %}
{% block content %}
<div class="px-3 py-3">
  <h4 class="fw-bold mb-3">Kirish</h4>
  <form method="post" class="card border-0 shadow-sm p-3" style="border-radius:16px;">
    {% csrf_token %}
    {% if request.GET.next %}
    <input type="hidden" name="next" value="{{ request.GET.next }}">
    {% endif %}
    {% if form.non_field_errors %}
    <div class="alert alert-danger py-2">
      {% for err in form.non_field_errors %}<div>{{ err }}</div>{% endfor %}
    </div>
    {% endif %}
    <div class="mb-3">
      <label class="form-label">Telefon</label>
      {{ form.username }}
      {% if form.username.errors %}<div class="text-danger small">{{ form.username.errors|striptags }}</div>{% endif %}
    </div>
    <div class="mb-3">
      <label class="form-label">Parol</label>
      {{ form.password }}
      {% if form.password.errors %}<div class="text-danger small">{{ form.password.errors|striptags }}</div>{% endif %}
    </div>
    <button class="btn btn-primary w-100" type="submit">Kirish</button>
    <div class="text-center mt-3">
      <a class="text-decoration-none" href="{% url 'register' %}">Akkount yaratish</a>
    </div>
    <div class="text-center mt-2">
      <a class="text-decoration-none" href="{% url 'password_reset_request' %}">Parolni unutdingizmi?</a>
    </div>
  </form>
</div>
{% endblock %}
